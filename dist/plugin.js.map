{"version":3,"file":"plugin.js","sources":["esm/definitions.js","esm/index.js","esm/web.js"],"sourcesContent":["/** Represents the charging mode of a battery. */\nexport var BatteryChargeMode;\n(function (BatteryChargeMode) {\n    /** The charging mode is unknown. */\n    BatteryChargeMode[BatteryChargeMode[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\n    /** The battery is being charged through an AC power source. */\n    BatteryChargeMode[BatteryChargeMode[\"AC\"] = 1] = \"AC\";\n    /** The battery is being charged through a USB connection. */\n    BatteryChargeMode[BatteryChargeMode[\"USB\"] = 2] = \"USB\";\n    /** The battery is being charged through a docking station. */\n    BatteryChargeMode[BatteryChargeMode[\"DOCK\"] = 3] = \"DOCK\";\n    /** The battery is being charged wirelessly. */\n    BatteryChargeMode[BatteryChargeMode[\"WIRELESS\"] = 4] = \"WIRELESS\";\n})(BatteryChargeMode || (BatteryChargeMode = {}));\n/**\n * Represents the health status of a battery.\n */\nexport var BatteryHealth;\n(function (BatteryHealth) {\n    /** The health status is unknown. */\n    BatteryHealth[BatteryHealth[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\n    /** The battery is cold. */\n    BatteryHealth[BatteryHealth[\"COLD\"] = 1] = \"COLD\";\n    /** The battery is dead. */\n    BatteryHealth[BatteryHealth[\"DEAD\"] = 2] = \"DEAD\";\n    /** The battery is in good health. */\n    BatteryHealth[BatteryHealth[\"GOOD\"] = 3] = \"GOOD\";\n    /** The battery is overheating. */\n    BatteryHealth[BatteryHealth[\"OVERHEAT\"] = 4] = \"OVERHEAT\";\n    /** The battery is experiencing over voltage. */\n    BatteryHealth[BatteryHealth[\"OVER_VOLTAGE\"] = 5] = \"OVER_VOLTAGE\";\n    /** The battery has failed. */\n    BatteryHealth[BatteryHealth[\"FAILURE\"] = 6] = \"FAILURE\";\n})(BatteryHealth || (BatteryHealth = {}));\n/**\n * Represents the battery status.\n */\nexport var BatteryStatus;\n(function (BatteryStatus) {\n    /** The battery status is unknown. */\n    BatteryStatus[BatteryStatus[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\n    /** The battery is not charging. */\n    BatteryStatus[BatteryStatus[\"NOT_CHARGING\"] = 1] = \"NOT_CHARGING\";\n    /** The battery is discharging. */\n    BatteryStatus[BatteryStatus[\"DISCHARGING\"] = 2] = \"DISCHARGING\";\n    /** The battery is charging. */\n    BatteryStatus[BatteryStatus[\"CHARGING\"] = 3] = \"CHARGING\";\n    /** The battery is full. */\n    BatteryStatus[BatteryStatus[\"FULL\"] = 4] = \"FULL\";\n})(BatteryStatus || (BatteryStatus = {}));\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst Battery = registerPlugin('Battery', {\n    web: () => import('./web').then((m) => new m.BatteryWeb()),\n});\nexport * from './definitions';\nexport { Battery };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nexport class BatteryWeb extends WebPlugin {\n    constructor() {\n        super(...arguments);\n        this.controller = new AbortController();\n    }\n    async start() {\n        if (typeof navigator === 'undefined' || !('getBattery' in navigator)) {\n            throw this.unavailable('Battery Status API is not available in this browser.');\n        }\n        else {\n            this.battery = await navigator.getBattery();\n            if (!this.battery) {\n                throw this.unavailable('Unable to get the battery status in this browser.');\n            }\n            this.battery.addEventListener('chargingchange', () => this.notifyBatteryChange(), {\n                signal: this.controller.signal,\n            });\n            this.battery.addEventListener('chargingtimechange', () => this.notifyBatteryChange(), {\n                signal: this.controller.signal,\n            });\n            this.battery.addEventListener('dischargingtimechange', () => this.notifyBatteryChange(), {\n                signal: this.controller.signal,\n            });\n            this.battery.addEventListener('levelchange', () => this.notifyBatteryChange(), {\n                signal: this.controller.signal,\n            });\n            return this.notifyBatteryChange();\n        }\n    }\n    notifyBatteryChange() {\n        const result = {\n            level: this.battery.level,\n            hasBattery: true,\n            isCharging: this.battery.charging,\n            chargingTime: this.battery.chargingTime,\n            dischargingTime: this.battery.dischargingTime,\n        };\n        this.notifyListeners('batteryChange', result);\n        return result;\n    }\n    async stop() {\n        this.controller.abort();\n    }\n    async removeAllListeners() {\n        this.controller.abort();\n        return super.removeAllListeners();\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["BatteryChargeMode","BatteryHealth","BatteryStatus","registerPlugin","WebPlugin"],"mappings":"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"}